cmake_minimum_required(VERSION 2.6)
PROJECT(Col)
SUBDIRS(src)

SET(PACKAGE_VERSION 1)
SET(BUILD_SHARED_LIBS on)

SET(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${CMAKE_CURRENT_SOURCE_DIR}/cmake)
FIND_PACKAGE(Apr)
FIND_PACKAGE(Apu)
FIND_PACKAGE(BerkeleyDB)
FIND_PACKAGE(Bison)
FIND_PACKAGE(Flex)

INCLUDE_DIRECTORIES(${APR_INCLUDES} ${APU_INCLUDES})
LINK_LIBRARIES(${APR_LIBS} ${APR_EXTRALIBS} ${APU_LIBS} ${APU_EXTRALIBS})

SET(CMAKE_C_FLAGS "-g -Wall -W -Wmissing-prototypes -pedantic -std=gnu99 ${APR_FLAGS} ${CMAKE_C_FLAGS}")
message (STATUS "CFLAGS: ${CMAKE_C_FLAGS}")
